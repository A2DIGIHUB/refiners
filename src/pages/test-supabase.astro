---
import Layout from '../layouts/Layout.astro';
import { testConnection } from '../lib/supabase';

const connectionTest = await testConnection();
---

<Layout title="Test Supabase Connection">
  <main class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-4">Supabase Connection Test</h1>
    
    {connectionTest.success ? (
      <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded">
        Connection successful! Your Supabase integration is working.
      </div>
    ) : (
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
        <p>Connection failed!</p>
        <p class="text-sm mt-2">Error: {connectionTest.error?.message}</p>
      </div>
    )}

    <div class="mt-8">
      <h2 class="text-2xl font-bold mb-4">Next Steps</h2>
      <ul class="list-disc list-inside space-y-2">
        <li>Add sermon content</li>
        <li>Create events</li>
        <li>Set up ministries</li>
        <li>Test contact form submissions</li>
      </ul>
    </div>
  </main>
</Layout>
